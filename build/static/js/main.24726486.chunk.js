(this.webpackJsonptodoredux=this.webpackJsonptodoredux||[]).push([[0],{321:function(e,t,a){e.exports=a(471)},326:function(e,t,a){},471:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(17),l=a.n(o);a(326),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(101),c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"Add":return(e=t.slice()).push(a.payload),e;case"Read":return a.payload;default:return t}},s=a(77),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"card":return Object(s.a)(t.payload);default:return e}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"comment":return Object(s.a)(t.payload);default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"reply":return Object(s.a)(t.payload);default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"files":return Object(s.a)(t.payload);default:return e}},g=Object(i.b)({todos:c,cards:m,comment:d,reply:u,files:p}),h=a(60),f=a(31),E=a(32),y=a(34),v=a(33),b=a(35),k=a(42),C=a(80),S=a(549),w=a(521),j=a(515),x=a(542),I=a(519),O=a(546),P=a(513),N=a(522),T=a(543),D=a(140),L=a.n(D),A=a(54),U=a(514),W=a(21),R=a.n(W),B=a(26),q=a.n(B),M=a(137),_=a(27),F=function(){return localStorage.getItem("jwt")};function G(){return r.a.createElement(A.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(P.a,{color:"inherit",href:"https://github.com/yogendra3236/"},"Buddies Enterprises")," ",(new Date).getFullYear(),".")}var Y=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).userEmail=function(e){a.setState({email:e.target.value})},a.userPass=function(e){a.setState({password:e.target.value})},a.submitData=function(e){e.preventDefault(),localStorage.clear(),R.a.post("https://yogendra.ga:4000/login",a.state).then((function(e){"SequelizeUniqueConstraintError"===e.data?q()("Login Error","Please enter a valid Email/Password or Sign up!","error"):(_.reactLocalStorage.set("jwt",e.data.token),a.setState({isLoggedIn:!0}))})).catch((function(e){return console.log("yeh",e)}))},a.responseGoogle=function(e){R.a.post("https://yogendra.ga:4000/googleSignIn",{tokenObj:e.tokenObj,imgUrl:e.profileObj.imageUrl}).then((function(e){"SequelizeUniqueConstraintError"===e.data?q()("Login Error","Please enter a valid Email/Password or Sign up!","error"):(_.reactLocalStorage.set("jwt",e.data.token),a.setState({isLoggedIn:!0}))})).catch((function(e){return console.log(e)}))},a.state={email:"",password:"",jwt:null,isLoggedIn:!1},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.isLoggedIn?r.a.createElement(C.a,{to:"/project"}):F()?r.a.createElement(C.a,{to:"/project"}):r.a.createElement(U.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{style:{marginTop:"30px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(S.a,{style:{margin:"0px",backgroundColor:"red"}},r.a.createElement(L.a,null)),r.a.createElement(A.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement("form",{onSubmit:this.submitData,noValidate:!0},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",value:this.state.email,onChange:this.userEmail,label:"Email Address",autoComplete:"email",type:"email"}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:this.state.password,onChange:this.userPass,label:"Password",type:"password",id:"password"}),r.a.createElement(I.a,{control:r.a.createElement(O.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign In"),r.a.createElement(N.a,{container:!0},r.a.createElement(N.a,{item:!0,xs:!0},r.a.createElement(k.b,{to:"/forgotpass",variant:"body2"},"Forgot password?")),r.a.createElement(N.a,{item:!0},r.a.createElement(k.b,{to:"/signup"},"Don't have an account? Sign Up"))))),r.a.createElement(M.GoogleLogin,{clientId:"536299356769-6revlp8ocmd1ffr53gm5knf1icsknh37.apps.googleusercontent.com",buttonText:"Login With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle}),r.a.createElement(T.a,{mt:2},r.a.createElement(G,null)))}}]),t}(n.Component),z=a(528),J=a(531),K=a(530),V=a(532),H=a(265),X=a.n(H),Q=a(550),$=a(533),Z=a(536),ee=a(535),te=a(534),ae=a(142),ne=a(73),re=a(52),oe=a(260),le=a(526),ie=a(527),ce=a(520),se=a(145),me=a.n(se),de=a(143),ue=a.n(de),pe=a(518),ge=a(523),he=a(524),fe=a(525),Ee=a(551),ye=a(144),ve=a.n(ye),be=a(149),ke=Object(oe.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},avatar:{backgroundColor:be.a[500]},title:Object(re.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},sectionDesktop:Object(re.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(re.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),list:{width:200}}}));function Ce(e){var t,a=ke(),n=r.a.useState(!1),o=Object(ne.a)(n,2),l=o[0],i=o[1],c=r.a.useState({left:!1}),s=Object(ne.a)(c,2),m=s[0],d=s[1],u=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&d(Object(ae.a)({},m,Object(re.a)({},e,t)))}};return l?r.a.createElement(C.a,{push:!0,to:"/profile"}):r.a.createElement("div",{className:a.grow},r.a.createElement(le.a,{position:"static"},r.a.createElement(ie.a,null,r.a.createElement(ce.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",onClick:u("left",!0)},r.a.createElement(me.a,null)),r.a.createElement(A.a,{className:a.title,variant:"h6",noWrap:!0},"TodoApp- Projects"),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(Q.a,{title:"Profile"},r.a.createElement(ce.a,{color:"inherit","aria-label":"open drawer",onClick:function(){console.log("openprofile function is called"),i(!0)}},r.a.createElement(S.a,{className:a.avatar},e.loggedInUser[0]))))),r.a.createElement(Ee.a,{open:m.left,onClose:u("left",!1)},(t="left",r.a.createElement("div",{className:a.list,role:"presentation",onClick:u(t,!1),onKeyDown:u(t,!1)},r.a.createElement(pe.a,null,["Profile","Log Out"].map((function(t,a){return r.a.createElement(ge.a,{button:!0,key:t,onClick:function(){return function(t){0===t?i(!0):(_.reactLocalStorage.remove("jwt"),e.logout())}(a)}},r.a.createElement(he.a,null,a%2===0?r.a.createElement(ue.a,null):r.a.createElement(ve.a,null)),r.a.createElement(fe.a,{primary:t}))}))))))))}var Se=a(529);function we(e){return{type:"card",payload:e}}var je=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).dialog=function(){a.setState({setOpen:!0})},a.handleClose=function(){a.setState({setOpen:!1})},a.addnewPro=function(){if(0===a.state.nameProject.length)return q()("Please Enter the name of the Project!");a.setState({setOpen:!1}),R.a.post("https://yogendra.ga:4000/cards",{token:F(),cardName:a.state.nameProject}).then((function(e){if("token is not valid"===e.data)return _.reactLocalStorage.remove("jwt"),void a.setState({redirectToLogin:!0});a.setState({loggedInUser:e.data[0].createdBy}),a.props.card(e.data)})).catch((function(e){return console.log(e)}))},a.cardTodos=function(e){a.setState({clickedCardIndex:e,redirectToTodos:!0})},a.logout=function(){a.setState({redirectToLogin:!0})},a.state={setOpen:!1,nameProject:"",redirectToTodos:!1,clickedCardIndex:null,redirectToLogin:!1,loggedInUser:""},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;R.a.get("https://yogendra.ga:4000/allCards",{params:{token:F()}}).then((function(t){if("token is not valid"===t.data)return _.reactLocalStorage.remove("jwt"),void e.setState({redirectToLogin:!0});e.setState({loggedInUser:t.data.loggedInUser}),e.props.card(t.data.myArray)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;if(this.state.redirectToTodos)return r.a.createElement(C.a,{push:!0,to:{pathname:"/todo/".concat(this.state.clickedCardIndex)}});if(this.state.redirectToLogin)return r.a.createElement(C.a,{to:"/login"});if(null!==this.props.cards)var t=this.props.cards.map((function(t){return r.a.createElement(z.a,{style:{width:"280px",marginBottom:"20px",height:"27vh"},key:t.cardId,onClick:function(){return e.cardTodos(t.cardId)}},r.a.createElement(Se.a,{avatar:r.a.createElement(S.a,{"aria-label":"recipe",style:{backgroundColor:be.a[500]}},t.createdBy[0]),title:"Created By-".concat(t.createdBy," (").concat(t.creatorEmail,")"),subheader:t.created_at}),r.a.createElement(K.a,{style:{height:0,paddingTop:"20px"},image:"/static/images/cards/paella.jpg",title:t.cardName}),r.a.createElement(J.a,null,r.a.createElement(A.a,{variant:"body2",color:"textSecondary",component:"p"},"Project Name - ",t.cardName)))}));return r.a.createElement("div",{style:{background:"skyBlue",height:"100vh"}},r.a.createElement(Ce,{logout:this.logout,total:this.state.countTotalCards,loggedInUser:this.state.loggedInUser}),r.a.createElement("div",{style:{padding:"24px",borderRadius:"4px",display:"flex",flexDirection:"column",width:"500",flexWrap:"wrap",background:"skyBlue"}},t),r.a.createElement(Q.a,{title:"Add Project","aria-label":"add"},r.a.createElement(V.a,{color:"secondary",style:{position:"fixed",bottom:"70px",right:"20px"},onClick:this.dialog},r.a.createElement(X.a,null))),r.a.createElement($.a,{open:this.state.setOpen,onClose:this.handleClose,"aria-labelledby":"form-dialog-title"},r.a.createElement(te.a,{id:"form-dialog-title"},"Add your Project Name"),r.a.createElement(ee.a,null,r.a.createElement(x.a,{autoFocus:!0,margin:"dense",id:"name",label:"Project",type:"inherit",onChange:function(t){return e.setState({nameProject:t.target.value})},fullWidth:!0})),r.a.createElement(Z.a,null,r.a.createElement(w.a,{onClick:this.handleClose,color:"primary"},"Cancel"),r.a.createElement(w.a,{onClick:this.addnewPro,color:"primary"},"Add"))))}}]),t}(r.a.Component),xe=Object(h.b)((function(e){return{cards:e.cards}}),{card:we})(je);function Ie(){return r.a.createElement(A.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(P.a,{color:"inherit",href:"https://material-ui.com/"},"Buddies Enterprises")," ",(new Date).getFullYear(),".")}var Oe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).firstName=function(e){a.setState({firstName:e.target.value})},a.lastName=function(e){a.setState({lastName:e.target.value})},a.email=function(e){a.setState({email:e.target.value})},a.password=function(e){a.setState({password:e.target.value})},a.submitData=function(e){e.preventDefault();var t=a.state,n={firstName:t.firstName,lastName:t.lastName,email:t.email,password:t.password};R.a.post("https://yogendra.ga:4000/signup",n).then((function(e){"SequelizeUniqueConstraintError"===e.data?q()("Signup Error","This email has already been used. Please Sign In","error"):(a.setState({signup:!0}),q()("Signup Success","Cool. Please Sign In","success"))})).catch((function(e){return console.log(e)}))},a.responseGoogle=function(e){R.a.post("https://yogendra.ga:4000/googleSignUp",{tokenObj:e.tokenObj,imgUrl:e.profileObj.imageUrl}).then((function(e){"SequelizeUniqueConstraintError"===e.data?q()("Login Error","Please enter a valid Email/Password or Sign up!","error"):(_.reactLocalStorage.set("jwt",e.data.token),a.setState({googleSignUp:!0}))})).catch((function(e){return console.log(e)}))},a.state={firstName:"",lastName:"",email:"",password:"",signup:!1,googleSignUp:!1},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return this.state.signup?r.a.createElement(C.a,{to:"/login"}):this.state.googleSignUp?r.a.createElement(C.a,{to:"/project"}):F()?r.a.createElement(C.a,{to:"/project"}):r.a.createElement(U.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{style:{marginTop:"30px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(S.a,{style:{margin:"0px",backgroundColor:"red"}},r.a.createElement(L.a,null)),r.a.createElement(A.a,{component:"h1",variant:"h5",style:{paddingBottom:"20px"}},"Sign up"),r.a.createElement("form",{onSubmit:this.submitData},r.a.createElement(N.a,{container:!0,spacing:2},r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(x.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",onChange:this.firstName})),r.a.createElement(N.a,{item:!0,xs:12,sm:6},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",onChange:this.lastName})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",onChange:this.email})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:this.password})),r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(I.a,{control:r.a.createElement(O.a,{value:"allowExtraEmails",color:"primary"}),label:"I agree all the terms and conditions"}))),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Sign Up"),r.a.createElement(N.a,{container:!0,justify:"flex-end"},r.a.createElement(N.a,{item:!0},r.a.createElement(k.b,{to:"/login",color:"inherit"},"Already have an account? Sign in"))))),r.a.createElement(M.GoogleLogin,{clientId:"536299356769-6revlp8ocmd1ffr53gm5knf1icsknh37.apps.googleusercontent.com",buttonText:"Signup With Google",onSuccess:this.responseGoogle,onFailure:this.responseGoogle}),r.a.createElement(T.a,{mt:5},r.a.createElement(Ie,null)))}}]),t}(r.a.Component),Pe=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).emailChange=function(e){a.setState({email:e.target.value})},a.emailSubmit=function(e){e.preventDefault(),null!==a.state.email?R.a.post("https://yogendra.ga:4000/forgot",{email:a.state.email}).then((function(e){0===e.data.length?q()("Error","This Email doesn't exist! Please Sign up!","error"):q()("Awesome!","A Password Reset link has been sent to your Email!","success")})).catch((function(e){return console.log(e)})):q()("Error","Please enter your Email!","error")},a.state={email:null,checkJwt:!1},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){void 0!==_.reactLocalStorage.get("jwt")&&this.setState({checkJwt:!0})}},{key:"render",value:function(){return this.state.checkJwt?r.a.createElement(Y,null):r.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},r.a.createElement(N.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(N.a,{item:!0,xs:10},r.a.createElement(z.a,{style:{padding:"50px",marginLeft:"auto"}},r.a.createElement("form",{onSubmit:this.emailSubmit},r.a.createElement(A.a,{variant:"h6"},"Enter your email to Reset the Password"),r.a.createElement(x.a,{id:"outlined-email-input",label:"Email",onChange:this.emailChange,type:"email",name:"email",autoComplete:"email",margin:"normal",variant:"outlined",required:!0}),r.a.createElement("br",null),r.a.createElement(w.a,{style:{color:"Blue",background:"skyBlue"},onClick:this.emailSubmit},"Submit"))))))}}]),t}(r.a.Component),Ne=a(179),Te=a.n(Ne),De=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).firstPass=function(e){a.setState({firstPass:e.target.value})},a.secondPass=function(e){a.setState({secondPass:e.target.value})},a.submitNew=function(e){console.log("submitNew clicked!"),e.preventDefault();var t=Te.a.parse(a.props.location.search).key,n=a.state,r=n.firstPass;if(r===n.secondPass){if(!new RegExp("(?=.*?[0-9]).{8,}$").test(r))return q()("Wait!","Your Password should be at least 8 letter long with numbers","info"),void a.setState({firstPass:"",secondPass:""});R.a.post("https://yogendra.ga:4000/submitNewPass",{token:t,password:r}).then((function(e){e.data?(console.log("checkit"),a.setState({firstPass:"",secondPass:"",passwordReset:!0}),q()("Awesome!","Your Password has been reset successfully!","success")):(q()("Link Error","This Link is expired!","error"),a.setState({linkExpiry:!0}))})).catch((function(e){return console.log(e)}))}else a.setState({firstPass:"",secondPass:""}),q()("Wait!","Your passwords don't match!","info")},a.state={linkExpiry:!1,firstPass:"",secondPass:"",passwordReset:!1},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=Te.a.parse(this.props.location.search).key;R.a.post("https://yogendra.ga:4000/resetpass",{token:t}).then((function(t){!1===t.data&&(q()("Link Error","This Link is expired!","error"),e.setState({linkExpiry:!0}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.linkExpiry?r.a.createElement(C.a,{to:"/forgotpass"}):this.state.passwordReset?r.a.createElement(C.a,{to:"/login"}):r.a.createElement(U.a,{component:"main",maxWidth:"xs"},r.a.createElement(j.a,null),r.a.createElement("div",{style:{marginTop:"50px",display:"flex",flexDirection:"column",alignItems:"center"}},r.a.createElement(A.a,{component:"h1",variant:"h5"},"Change Password"),r.a.createElement("form",{onSubmit:this.submitNew},r.a.createElement(x.a,{id:"outlined-password-input",label:"New Password",type:"password",autoComplete:"current-password",margin:"normal",onChange:this.firstPass,variant:"outlined",value:this.state.firstPass,fullWidth:!0,required:!0}),r.a.createElement(x.a,{id:"outlined-password-input2",label:"Confirm Password",type:"password",autoComplete:"current-password",margin:"normal",onChange:this.secondPass,variant:"outlined",value:this.state.secondPass,fullWidth:!0,required:!0}),r.a.createElement(w.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Submit"))),r.a.createElement(T.a,{mt:8}))}}]),t}(r.a.Component),Le=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).state={avatar:null,name:null,email:null,imgUrl:null,checkProfile:!1},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=_.reactLocalStorage.get("jwt");t?R.a.post("https://yogendra.ga:4000/profile",{token:t}).then((function(t){var a=t.data;e.setState({avatar:a.avatar,name:a.name,email:a.email,imgUrl:a.imgUrl})})).catch((function(e){return console.log(e)})):this.setState({checkProfile:!0})}},{key:"render",value:function(){return this.state.checkProfile?r.a.createElement(C.a,{to:"/login"}):r.a.createElement(N.a,{container:!0,direction:"column",alignItems:"center",justify:"center",style:{minHeight:"100vh"}},r.a.createElement(N.a,{item:!0,xs:12},r.a.createElement(z.a,{style:{maxWidth:305}},r.a.createElement(Se.a,{avatar:r.a.createElement(S.a,{alt:"Profile Picture",src:this.state.imgUrl}),title:this.state.name,subheader:(new Date).toDateString()}),r.a.createElement(K.a,{src:this.state.imgUrl,image:"Profile Image",title:"Avatar"}),r.a.createElement(J.a,null,r.a.createElement(A.a,{variant:"h6",color:"textSecondary",component:"p"},"Email ",r.a.createElement("br",null)),this.state.email))))}}]),t}(r.a.Component),Ae=a(136);function Ue(e){return{type:"Read",payload:e}}function We(e){return{type:"comment",payload:e}}function Re(e){return{type:"reply",payload:e}}function Be(e){return{type:"files",payload:e}}var qe=a(539),Me=a(284),_e=a.n(Me),Fe=a(180),Ge=a.n(Fe),Ye=a(181),ze=a.n(Ye),Je=a(537),Ke=a(288),Ve=a(268),He=a.n(Ve),Xe=a(544),Qe=a(548),$e=a(541),Ze=a(547),et=(a(351),a(182)),tt=a.n(et),at=a(538),nt=a(115),rt=a.n(nt),ot=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).editTodoInput=function(e){a.setState({edit:!0,updateId:e})},a.delete=function(e){R.a.delete("https://yogendra.ga:4000/delete/"+e,{data:{token:F(),clickedCardIndex:a.state.clickedCardIndex}}).then((function(e){a.props.read(e.data)})).catch((function(e){return console.log(e)}))},a.editSubmit=function(e){if("Enter"===e.key){e.preventDefault();var t=a.state,n=t.updateId,r=t.clickedCardIndex;0!==a.state.editItem.length?null!==n&&R.a.put("https://yogendra.ga:4000/update/"+n,{editItem:a.state.editItem,token:F(),clickedCardIndex:r}).then((function(e){a.setState({updateId:null}),a.props.read(e.data)})).catch((function(e){return console.log(e)})):a.setState({updateId:null})}},a.checkboxHandler=function(e){var t=a.props.list,n=e.target,r=n.id,o=n.checked,l=a.state.clickedCardIndex,i=Ge.a.findWhere(t,{id:parseInt(r)});i.done=o,R.a.put("https://yogendra.ga:4000/checkbox",{done:i.done,id:r,token:F(),clickedCardIndex:l}).then((function(e){a.props.read(e.data)})).catch((function(e){return console.log("error updating value",e)}))},a.notesOpen=function(e){a.setState({notes:!0,noteId:e})},a.notesClose=function(){a.setState({notes:!1,editNoteStatus:!1,parentCommentId:null})},a.noteSubmit=function(e){e.preventDefault();var t=a.state,n=t.noteId,r=t.onChangeNote,o=t.clickedCardIndex;R.a.post("https://yogendra.ga:4000/notes",{token:F(),noteId:n,note:r,clickedCardIndex:o}).then((function(e){"token is not valid"!==e.data?a.props.read(e.data):a.setState({login:!0})})).catch((function(e){return console.log(e)})),a.setState({editNoteStatus:!1})},a.fileSubmit=function(){var e=a.state,t=e.noteId,n=e.files,r=e.loading,o=new He.a;if(0!==n.length){r||a.setState({loading:!0,success:!1});for(var l=0;l<n.length;l++)o.append("files",n[l],n[l].name);o.append("token",F()),o.append("todoId",t),R.a.post("https://yogendra.ga:4000/files",o).then((function(e){if("Error: Images And PDFs Only!"!==e.data.error){var t=e.data.userFiles;a.setState({notes:!1,files:[]}),a.props.files(t),a.setState({loading:!1,success:!0}),q()("Perfect!","Attachment Added!","success")}else q()("Upload Error!","This media file is not supported!","error")})).catch((function(e){return console.log(e)}))}else q()("Upload Error!","Add atlease one file","info")},a.trial=function(){var e=a.state.noteId,t=a.props,n=t.list,o=t.commentData,l=t.replyData,i=t.userFiles,c=Ge.a.findWhere(n,{id:e});if(null!==o&&null!==i)var s=i.filter((function(t){return t.todoId===String(e)})),m=o.filter((function(t){return t.todoId===String(e)}));if(void 0!==c)return a.state.editNoteStatus?r.a.createElement("form",{onSubmit:a.noteSubmit},r.a.createElement(x.a,{id:"outlined-text-input",label:"Description",fullWidth:!0,onChange:function(e){return a.setState({onChangeNote:e.target.value})},defaultValue:c.note,type:"text",name:"text",autoComplete:"text",margin:"normal",variant:"outlined"})):r.a.createElement("div",null,r.a.createElement(Je.a,{id:"alert-dialog-description"},c.note||"You don't have any description"),r.a.createElement(Z.a,null,r.a.createElement(V.a,{color:"secondary","aria-label":"edit",onClick:function(){a.setState({editNoteStatus:!0})},style:{position:"relative",top:"-50px"}},r.a.createElement(ze.a,null))),r.a.createElement(Ke.a,{onChange:a.fileUpload.bind(Object(Ae.a)(a)),name:"files"}),r.a.createElement(z.a,null,r.a.createElement(Se.a,{title:"All Media"}),r.a.createElement(J.a,null,s.map((function(e,t){return"img"===e.fileType||"png"===e.fileType||"jpg"===e.fileType||"jpeg"===e.fileType?r.a.createElement("div",{key:t,style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start",marginTop:"30px"}},r.a.createElement("img",{src:e.fileLink,alt:"new",width:"50px",height:"50px"}),r.a.createElement("ol",null,e.fileName)),r.a.createElement("div",{style:{marginTop:"50px",height:"40px"}},r.a.createElement(P.a,{href:e.fileLink,target:"_blank"}," ",r.a.createElement(tt.a,{fontSize:"large"})))):"pdf"===e.fileType?r.a.createElement("div",{key:t,style:{display:"flex",justifyContent:"space-between",marginTop:"10px"}},r.a.createElement("div",{key:t,style:{display:"flex",justifyContent:"flex-start",marginTop:"30px"}},r.a.createElement("img",{src:e.cloudinaryLink||"https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcSf0AhnipvLA2o-fdwUrK9QQ56__Eh0RWAv4LRceY9JC0pmhnMD",alt:"new",width:"50px",height:"50px"}),r.a.createElement("ol",null,e.fileName)),r.a.createElement("div",{style:{marginTop:"50px"}},r.a.createElement(P.a,{href:e.fileLink,target:"_blank"}," ",r.a.createElement(tt.a,{fontSize:"large"})))):null})))),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement("div",{style:{position:"relative",margin:"20px"}},r.a.createElement(w.a,{variant:"contained",color:"primary",disabled:a.state.loading,onClick:a.fileSubmit},"Upload"),a.state.loading&&r.a.createElement(at.a,{size:24,style:{position:"absolute",top:"21%",left:"38%",marginTop:"-12",marginLeft:"-12"}}))),r.a.createElement(z.a,{style:{marginTop:"20px"}},r.a.createElement(J.a,null,r.a.createElement(Xe.a.Group,{threaded:!0},r.a.createElement(Qe.a,{as:"h3",dividing:!0},"Comments"),m.map((function(e,t){var n=e.commentId;return e.commentId===a.state.parentCommentId?r.a.createElement(Xe.a,{key:t},r.a.createElement(Xe.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/matt.jpg"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Author,{as:"a"},e.firstName),r.a.createElement(Xe.a.Metadata,null,r.a.createElement("span",null,r.a.createElement(rt.a,{date:e.time}))),r.a.createElement(Xe.a.Text,null,e.comment),r.a.createElement(Xe.a.Group,null,l.filter((function(e){return e.commentId===String(n)})).map((function(e,t){return r.a.createElement(Xe.a,{key:t},r.a.createElement(Xe.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Author,{as:"a"},e.firstName),r.a.createElement(Xe.a.Metadata,null,r.a.createElement("span",null,r.a.createElement(rt.a,{date:e.time}))),r.a.createElement(Xe.a.Text,null,e.reply)))}))),r.a.createElement($e.a,{reply:!0,onSubmit:a.addreply},r.a.createElement($e.a.Input,{onChange:function(e){return a.setState({onChangeReply:e.target.value})},autoFocus:!0,label:"Add Reply",value:a.state.onChangeReply})))):r.a.createElement(Xe.a,{key:t},r.a.createElement(Xe.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/matt.jpg"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Author,{as:"a"},e.firstName),r.a.createElement(Xe.a.Metadata,null,r.a.createElement("span",null,r.a.createElement(rt.a,{date:e.time}))),r.a.createElement(Xe.a.Text,null,e.comment),r.a.createElement(Xe.a.Group,null,l.filter((function(e){return e.commentId===String(n)})).map((function(e,t){return r.a.createElement(Xe.a,{key:t},r.a.createElement(Xe.a.Avatar,{as:"a",src:"https://react.semantic-ui.com/images/avatar/small/jenny.jpg"}),r.a.createElement(Xe.a.Content,null,r.a.createElement(Xe.a.Author,{as:"a"},e.firstName),r.a.createElement(Xe.a.Metadata,null,r.a.createElement("span",null,r.a.createElement(rt.a,{date:e.time}))),r.a.createElement(Xe.a.Text,null,e.reply)))}))),r.a.createElement(Xe.a.Actions,null,r.a.createElement(Ze.a,{onClick:function(){return a.setState({parentCommentId:n})}},"Reply"))))}))),r.a.createElement("form",{onSubmit:a.commentSubmit},r.a.createElement(x.a,{id:"outlined-text-input",label:"Add Comment",fullWidth:!0,onChange:function(e){return a.setState({onChangeComment:e.target.value})},value:a.state.onChangeComment,type:"text",name:"text",autoComplete:"text",margin:"normal",variant:"outlined"})))))},a.addreply=function(e){if(e.preventDefault(),0!==a.state.onChangeReply.length){var t=a.state,n=t.parentCommentId,r=t.noteId,o=t.onChangeReply;R.a.post("https://yogendra.ga:4000/addreply",{token:F(),parentCommentId:n,todoId:r,reply:o,time:(new Date).toString()}).then((function(e){var t=e.data;a.setState({onChangeReply:"",parentCommentId:null}),a.props.reply(t)})).catch((function(e){return console.log(e)}))}else q()("Input Please","Please add a Reply!","info")},a.commentSubmit=function(e){if(e.preventDefault(),0!==a.state.onChangeComment.length){var t=a.state,n=t.noteId,r=t.onChangeComment;R.a.post("https://yogendra.ga:4000/postcomment",{token:F(),todoId:n,comment:r,time:(new Date).toString()}).then((function(e){var t=e.data;a.setState({onChangeComment:""}),a.props.comment(t)})).catch((function(e){return console.log(e)}))}else q()("Input Please","Please add a Comment!","info")},a.state={login:!1,redirectToProject:!1,edit:!1,updateId:null,editItem:"",checked:!1,notes:!1,noteId:null,onChangeNote:"",editNoteStatus:!1,attachmentStatus:!1,files:[],onChangeComment:"",onChangeReply:"",parentCommentId:null,loading:!1,success:!0},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidUpdate",value:function(){var e=this;if(!F())return this.setState({login:!0}),void _.reactLocalStorage.remove("jwt","");R.a.get("https://yogendra.ga:4000/get",{params:{token:F(),clickedCardIndex:this.props.clickedCard}}).then((function(t){return"token is not valid"===t.data?(_.reactLocalStorage.remove("jwt"),void e.setState({login:!0})):"Invalid Card"===t.data?(q()("Wrong Project Id"),void e.setState({redirectToProject:!0})):void 0}))}},{key:"componentDidMount",value:function(){var e=this;if(!F())return this.setState({login:!0}),void _.reactLocalStorage.remove("jwt","");var t=this.props.clickedCard;this.setState({clickedCardIndex:t});var a=R.a.get("https://yogendra.ga:4000/get",{params:{token:F(),clickedCardIndex:t}}),n=R.a.get("https://yogendra.ga:4000/allfiles",{params:{token:F()}}),r=R.a.get("https://yogendra.ga:4000/allcomments",{params:{token:F()}}),o=R.a.get("https://yogendra.ga:4000/allreplies",{params:{token:F()}});Promise.all([a,n,r,o]).then((function(t){var a=t[0],n=t[1].data.userFiles,r=t[2].data,o=t[3].data;if("token is not valid"===a.data)return _.reactLocalStorage.remove("jwt"),void e.setState({login:!0});if("Invalid Card"===a.data)return q()("Wrong Project Id"),void e.setState({redirectToProject:!0});var l=a.data.data;e.props.read(l),e.props.comment(r),e.props.reply(o),e.props.files(n)})).catch((function(e){return console.log(e)}))}},{key:"fileUpload",value:function(e){this.setState({files:e})}},{key:"render",value:function(){var e=this,t=this.props.list;return this.state.login?r.a.createElement(C.a,{to:"/login"}):this.state.redirectToProject?r.a.createElement(C.a,{to:"/project"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(pe.a,null,t.map((function(t){var a=String(t.id),n=!!t.done;return e.state.edit&&e.state.updateId===t.id?r.a.createElement(z.a,{key:t.id,style:{margin:16,padding:10}},r.a.createElement(ge.a,{style:{backgroundColor:"black",color:"white"}},r.a.createElement(S.a,{alt:"Remy Sharp",src:"https://www.searchpng.com/wp-content/uploads/2019/02/Profile-ICon.png"}),r.a.createElement(Q.a,{title:t.assignedBy},r.a.createElement(fe.a,null,"Assigned By:"," ",t.assignedByName)),r.a.createElement(S.a,{alt:"Remy Sharp",src:"https://www.searchpng.com/wp-content/uploads/2019/02/Profile-ICon.png"}),r.a.createElement(Q.a,{title:t.assignedTo},r.a.createElement(fe.a,null,"Assigned To:"," ",t.assignedToName))),r.a.createElement(ge.a,{key:t.id,style:{backgroundColor:"skyBlue",marginBottom:"10px"}},r.a.createElement(he.a,null,r.a.createElement(O.a,{onChange:e.checkboxHandler,id:a,checked:n})),r.a.createElement("form",{onSubmit:e.editSubmit,noValidate:!0},r.a.createElement(x.a,{type:"text",label:"Edit Todo",onChange:function(t){return e.setState({editItem:t.target.value})},onKeyPress:e.editSubmit,id:"update",defaultValue:t.item,fullWidth:!0})))):r.a.createElement(z.a,{key:t.id,style:{margin:16,padding:10}},r.a.createElement(ge.a,{style:{backgroundColor:"black",color:"white"}},r.a.createElement(S.a,{alt:"Remy Sharp",src:"https://www.searchpng.com/wp-content/uploads/2019/02/Profile-ICon.png"}),r.a.createElement(Q.a,{title:t.assignedBy},r.a.createElement(fe.a,null,"By: ",t.assignedByName)),r.a.createElement(S.a,{alt:"Remy Sharp",src:"https://www.searchpng.com/wp-content/uploads/2019/02/Profile-ICon.png"}),r.a.createElement(Q.a,{title:t.assignedTo},r.a.createElement(fe.a,null,"To: ",t.assignedToName))),r.a.createElement(ge.a,{key:t.id,dense:!0,button:!0,onClick:function(){return e.notesOpen(t.id)},style:{backgroundColor:"skyBlue",marginBottom:"10px"}},r.a.createElement(he.a,null,r.a.createElement(O.a,{onChange:e.checkboxHandler,id:a,checked:n})),r.a.createElement(fe.a,{primary:t.item}),r.a.createElement(qe.a,null,r.a.createElement(Q.a,{title:"Edit"},r.a.createElement(ce.a,{edge:"end","aria-label":"delete",onClick:function(){return e.editTodoInput(t.id)},style:{marginRight:"0px"},id:"edit"},r.a.createElement(ze.a,null))),r.a.createElement(Q.a,{title:"Delete"},r.a.createElement(ce.a,{edge:"end","aria-label":"delete",onClick:function(){return e.delete(t.id)},id:"delete",color:"primary"},r.a.createElement(_e.a,null))))))}))),r.a.createElement($.a,{fullWidth:!0,open:this.state.notes,onClose:this.notesClose,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ee.a,null,r.a.createElement(te.a,{id:"form-dialog-title"},"Your Description"),this.trial())))}}]),t}(r.a.Component),lt=Object(h.b)((function(e){return{list:e.todos,commentData:e.comment,replyData:e.reply,userFiles:e.files}}),{read:Ue,comment:We,reply:Re,files:Be})(ot),it=a(8),ct=Object(it.a)({root:{"& label.Mui-focused":{color:"green"},"& .MuiInput-underline:after":{borderBottomColor:"green"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"red"},"&:hover fieldset":{borderColor:"yellow"},"&.Mui-focused fieldset":{borderColor:"green"}}}})(x.a),st=Object(oe.a)((function(e){return{root:{display:"flex"},margin1:{margin:e.spacing(1),width:"65%"},margin2:{margin:e.spacing(1),width:"35%"}}})),mt=function(e){var t=st(),a=r.a.useState(""),n=Object(ne.a)(a,2),o=n[0],l=n[1],i=r.a.useState(""),c=Object(ne.a)(i,2),s=c[0],m=c[1],d=Object(h.c)(),u=function(t){"Enter"===t.key&&(t.preventDefault(),o.length>0&&s.length>0?R.a.post("https://yogendra.ga:4000/post",{item:o,done:!1,token:F(),assignedTo:s,clickedCardIndex:e.clickedCard}).then((function(e){0!==e.data.length?d({type:"Add",payload:e.data[e.data.length-1]}):q()("User Doesn't exist","Please let him Signup!","error")})).catch((function(e){return console.log("myErr",e)})):q()("Error","Please input some data","info"),l(""),m(""))};return r.a.createElement("div",null,r.a.createElement("form",{className:t.root,onSubmit:u},r.a.createElement(ct,{className:t.margin1,type:"text",id:"outlined-full-width",label:"Add Todo",style:{margin:8},fullWidth:!0,margin:"normal",variant:"outlined",onChange:function(e){return l(e.target.value)},value:o,onKeyPress:u,autoFocus:!0}),r.a.createElement(ct,{type:"email",onChange:function(e){return m(e.target.value)},className:t.margin2,label:"Assign to",value:s,onKeyPress:u,variant:"outlined"})))},dt=a(540),ut=a(285),pt=a.n(ut),gt=a(286),ht=a.n(gt),ft=Object(oe.a)((function(e){return{grow:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},avatar:{backgroundColor:be.a[500]},title:Object(re.a)({display:"none"},e.breakpoints.up("sm"),{display:"block"}),inputRoot:{color:"inherit"},sectionDesktop:Object(re.a)({display:"none"},e.breakpoints.up("md"),{display:"flex"}),sectionMobile:Object(re.a)({display:"flex"},e.breakpoints.up("md"),{display:"none"}),list:{width:200}}}));function Et(e){var t,a=ft(),n=r.a.useState(!1),o=Object(ne.a)(n,2),l=o[0],i=o[1],c=Object(h.d)((function(e){return e.todos})),s=r.a.useState({left:!1}),m=Object(ne.a)(s,2),d=m[0],u=m[1],p=c.filter((function(e){return 1===e.done||!0===e.done})),g=function(e,t){return function(a){("keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&u(Object(ae.a)({},d,Object(re.a)({},e,t)))}};return l?r.a.createElement(C.a,{push:!0,to:"/profile"}):r.a.createElement("div",{className:a.grow},r.a.createElement(le.a,{position:"static"},r.a.createElement(ie.a,null,r.a.createElement(ce.a,{edge:"start",className:a.menuButton,color:"inherit","aria-label":"open drawer",onClick:g("left",!0)},r.a.createElement(me.a,null)),r.a.createElement(A.a,{className:a.title,variant:"h6",noWrap:!0},"TodoApp- Todos"),r.a.createElement("div",{className:a.grow}),r.a.createElement("div",{className:a.sectionDesktop},r.a.createElement(Q.a,{title:"Done"},r.a.createElement(ce.a,{"aria-label":"done icon",color:"inherit"},r.a.createElement(dt.a,{badgeContent:p.length,color:"secondary"},r.a.createElement(pt.a,null)))),r.a.createElement(Q.a,{title:"Pending"},r.a.createElement(ce.a,{"aria-label":"pending icon",color:"inherit"},r.a.createElement(dt.a,{badgeContent:c.length-p.length,color:"secondary"},r.a.createElement(ht.a,null)))),r.a.createElement(Q.a,{title:"Profile"},r.a.createElement(ce.a,{color:"inherit","aria-label":"open drawer",onClick:function(){i(!0)}},r.a.createElement(S.a,{className:a.avatar},e.avatar[0]))))),r.a.createElement(Ee.a,{open:d.left,onClose:g("left",!1)},(t="left",r.a.createElement("div",{className:a.list,role:"presentation",onClick:g(t,!1),onKeyDown:g(t,!1)},r.a.createElement(pe.a,null,["Profile","Log Out"].map((function(t,a){return r.a.createElement(ge.a,{button:!0,key:t,onClick:function(){return function(t){0===t?i(!0):(_.reactLocalStorage.remove("jwt"),e.logout())}(a)}},r.a.createElement(he.a,null,a%2===0?r.a.createElement(ue.a,null):r.a.createElement(ve.a,null)),r.a.createElement(fe.a,{primary:t}))}))))))))}var yt=function(e){function t(e){var a;return Object(f.a)(this,t),(a=Object(y.a)(this,Object(v.a)(t).call(this,e))).logout=function(){_.reactLocalStorage.remove("jwt"),a.setState({login:!0})},a.state={login:!1,redirectToProject:!1,clickedCardIndex:a.props.match.params.cardId,avatar:""},a}return Object(b.a)(t,e),Object(E.a)(t,[{key:"componentDidMount",value:function(){var e=this;R.a.get("https://yogendra.ga:4000/get",{params:{token:F(),clickedCardIndex:this.state.clickedCardIndex}}).then((function(t){e.setState({avatar:t.data.avatar}),"token is not valid"===t.data&&(_.reactLocalStorage.remove("jwt",""),e.setState({login:!0}))})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return this.state.login?r.a.createElement(C.a,{to:"/login"}):this.state.redirectToProject?r.a.createElement(C.a,{to:"/project"}):r.a.createElement("div",null,r.a.createElement(Et,{logout:this.logout,avatar:this.state.avatar}),r.a.createElement(mt,{clickedCard:this.state.clickedCardIndex}),r.a.createElement(lt,{clickedCard:this.state.clickedCardIndex}))}}]),t}(n.Component),vt=function(e){function t(){return Object(f.a)(this,t),Object(y.a)(this,Object(v.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(E.a)(t,[{key:"render",value:function(){return r.a.createElement(k.a,null,r.a.createElement(C.b,{path:"/",exact:!0,component:Y}),r.a.createElement(C.b,{path:"/login",exact:!0,component:Y}),r.a.createElement(C.b,{path:"/signup",exact:!0,component:Oe}),r.a.createElement(C.b,{path:"/profile",exact:!0,component:Le}),r.a.createElement(C.b,{path:"/project",exact:!0,component:xe}),r.a.createElement(C.b,{path:"/forgotpass",exact:!0,component:Pe}),r.a.createElement(C.b,{path:"/resetpass",exact:!0,component:De}),r.a.createElement(C.b,{path:"/todo/:cardId",exact:!0,component:yt}))}}]),t}(n.Component),bt=Object(i.c)(g,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(r.a.createElement(h.a,{store:bt},r.a.createElement(vt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[321,1,2]]]);
//# sourceMappingURL=main.24726486.chunk.js.map